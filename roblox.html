<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Roblox Visit Leaderboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f2f5;
      padding: 20px;
      text-align: center;
    }
    h1 {
      margin-bottom: 20px;
    }
    .leaderboard {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .game-card {
      background: white;
      width: 260px;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: center;
    }
    .game-card img {
      width: 100%;
      border-radius: 10px;
    }
    .game-name {
      font-weight: bold;
      margin: 10px 0;
    }
    .visits {
      font-size: 18px;
      color: #e60039;
    }
  </style>
</head>
<body>
  <h1>ðŸ”¥ Roblox Game Visit Leaderboard</h1>
  <div class="leaderboard" id="leaderboard"></div>

  <script>
    const endpoint = "https://script.google.com/macros/s/AKfycbwb9qUsKYbTgAIqvlGjl6BYc4YbL7hStmF0LpAA5RQCkBJZWOCYGXUefoZaG-x9Mvrv/exec";
    
    // Daftar PLACE ID (comma-separated)
    const placeIds = [
      "3187302798",
      "11399819772",
      "115326572683504",
      "115958813741074"
    ];

    function loadLeaderboard() {
      fetch(`${endpoint}?placeIds=${placeIds.join(",")}`)
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById("leaderboard");
          container.innerHTML = "";

          // Sort berdasarkan visits (desc)
          data.sort((a, b) => (b.visits || 0) - (a.visits || 0));

          data.forEach(game => {
            const div = document.createElement("div");
            div.className = "game-card";
            if (game.error) {
              div.innerHTML = `<p>Error loading game ${game.placeId}</p>`;
            } else {
              div.innerHTML = `
                <img src="${game.thumbnail}" alt="${game.name}">
                <div class="game-name">${game.name}</div>
                <div class="visits">${game.visits.toLocaleString()} visits</div>
              `;
            }
            container.appendChild(div);
          });
        });
    }

    loadLeaderboard();
    setInterval(loadLeaderboard, 30000); // auto-refresh 30 detik
  </script>
</body>
</html>
